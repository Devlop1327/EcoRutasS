.perfil{min-height:100vh;display:flex;flex-direction:column;position:relative;overflow:hidden}
.perfil.dark{background:radial-gradient(circle at 0% 0%,#0f172a 0,#020617 45%,#000 100%);color:var(--fg)}
.perfil:not(.dark){background:linear-gradient(180deg,#f8fafc 0%, #f9fafb 60%, #ffffff 100%);color:#0f172a}
 .perfil::before{content:"";position:absolute;inset:-40%;background:conic-gradient(from 210deg,rgba(34,197,94,.14),rgba(56,189,248,.08),transparent 40%,transparent 70%,rgba(129,140,248,.18),rgba(34,197,94,.14));filter:blur(40px);opacity:.7;animation:perfil-orbit 30s linear infinite;pointer-events:none}
 .perfil::after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 10% 120%,rgba(16,185,129,.25),transparent 55%),radial-gradient(circle at 110% -10%,rgba(59,130,246,.22),transparent 55%);mix-blend-mode:screen;opacity:.85;pointer-events:none}

 @keyframes perfil-orbit{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}

 .header{position:relative;z-index:1;background:linear-gradient(120deg,rgba(15,23,42,.92),rgba(15,23,42,.86));border-bottom:1px solid rgba(148,163,184,.35);padding:14px 24px;backdrop-filter:blur(22px)}
 .header-content{display:flex;justify-content:space-between;align-items:center;max-width:980px;margin:0 auto}
 .logo{font-size:1.6rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;background:linear-gradient(130deg,#bbf7d0,#6ee7b7,#a5f3fc);-webkit-background-clip:text;background-clip:text;color:transparent;margin:0;text-shadow:0 0 20px rgba(34,197,94,.4)}
 .user-menu{display:flex;align-items:center;gap:12px}

 .btn-back,.btn-logout{position:relative;display:inline-flex;align-items:center;gap:8px;padding:9px 18px;border-radius:999px;border:1px solid rgba(148,163,184,.55);cursor:pointer;font-size:.85rem;font-weight:500;text-decoration:none;overflow:hidden;isolation:isolate;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease,background .18s ease,color .18s ease}
 .btn-back::before,.btn-logout::before{content:"";position:absolute;inset:-40%;background:radial-gradient(circle at 0 0,rgba(34,197,94,.8),transparent 55%);opacity:0;transition:opacity .25s ease,transform .25s ease;transform:translate3d(-20%,0,0);z-index:-1}
 .btn-back{background:rgba(15,23,42,.9);color:#e5e7eb}
 .btn-back .icon{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;font-size:1.1rem;font-weight:700;transition:transform .25s ease}
 .btn-back:hover{border-color:rgba(52,211,153,.8);box-shadow:0 0 20px rgba(34,197,94,.45);transform:translateY(-1px)}
 .btn-back:hover::before{opacity:1;transform:translate3d(0,0,0)}
 .btn-back:hover .icon{transform:translateX(-3px)}

 .btn-logout{background:radial-gradient(circle at 0 0,rgba(248,113,113,.4),rgba(127,29,29,.9));color:#fee2e2;border-color:rgba(239,68,68,.7);box-shadow:0 0 0 1px rgba(127,29,29,.7),0 0 25px rgba(248,113,113,.4)}
 .btn-logout .icon{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;font-size:1.05rem;font-weight:700;transition:transform .28s ease}
 .btn-logout:hover{box-shadow:0 0 32px rgba(248,113,113,.7);transform:translateY(-1px)}
 .btn-logout:hover::before{opacity:1;transform:translate3d(0,0,0)}
 .btn-logout:hover .icon{transform:rotate(18deg)}

 /* Main */
 .main{position:relative;z-index:1;width:100%;max-width:1440px;margin:0 auto;padding:24px 40px 36px;display:flex;flex-direction:column;gap:18px}

 /* Page Header */
 .page-header{margin-bottom:4px;display:flex;flex-direction:column;gap:6px}
 .title{font-size:2.1rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;color:#e5e7eb;margin:0 0 2px;text-shadow:0 0 20px rgba(59,130,246,.4)}
 .subtitle{font-size:.95rem;color:#9ca3af;margin:0;max-width:420px}

 /* Avatar section small */
 .avatar-section{display:flex;align-items:center;gap:16px;margin:10px 0 14px}
 .avatar-preview{width:60px;height:60px;border-radius:999px;overflow:hidden;display:grid;place-items:center;background:conic-gradient(from 220deg,#a855f7,#22c55e,#0ea5e9,#a855f7);position:relative;box-shadow:0 0 25px rgba(56,189,248,.55)}
 .avatar-preview::after{content:"";position:absolute;inset:12%;border-radius:inherit;background:radial-gradient(circle at 30% 0,rgba(255,255,255,.55),transparent 55%)}
 .avatar-preview .avatar-img{width:100%;height:100%;object-fit:cover;display:block;border-radius:inherit;position:relative;z-index:1}
 .avatar-preview .avatar-placeholder{width:100%;height:100%;display:grid;place-items:center;font-weight:700;color:#e5e7eb;font-size:1.5rem;position:relative;z-index:1;text-shadow:0 0 18px rgba(15,23,42,.9)}
 .avatar-actions .btn-upload{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;border:1px dashed rgba(148,163,184,.5);cursor:pointer;background:rgba(15,23,42,.7);color:#e5e7eb;font-size:.85rem;backdrop-filter:blur(16px);transition:border-color .22s ease,background .22s ease,box-shadow .22s ease,transform .18s ease}
 .avatar-actions .btn-upload:hover{border-color:rgba(56,189,248,.9);background:rgba(15,23,42,.95);box-shadow:0 0 18px rgba(56,189,248,.55);transform:translateY(-1px)}

 /* Message */
 .message{padding:12px 16px;border-radius:14px;margin-bottom:18px;font-size:.85rem;border:1px solid transparent;position:relative;overflow:hidden;background:linear-gradient(135deg,rgba(15,23,42,.96),rgba(15,23,42,.9));backdrop-filter:blur(18px)}
 .message::before{content:"";position:absolute;inset:0;background:linear-gradient(120deg,rgba(34,197,94,.25),rgba(56,189,248,.2));mix-blend-mode:soft-light;opacity:.75;pointer-events:none}
 .message.success{border-color:rgba(34,197,94,.7);box-shadow:0 0 22px rgba(34,197,94,.45);color:#bbf7d0}
 .message.error{border-color:rgba(248,113,113,.75);box-shadow:0 0 22px rgba(248,113,113,.55);color:#fee2e2}

 /* Form Container */
 .form-container{position:relative;border-radius:22px;padding:26px 24px 24px;background:radial-gradient(circle at 0 0,rgba(148,163,184,.12),transparent 45%),radial-gradient(circle at 100% 0,rgba(56,189,248,.09),transparent 55%),linear-gradient(135deg,rgba(15,23,42,.92),rgba(15,23,42,.96));border:1px solid rgba(148,163,184,.45);box-shadow:0 0 0 1px rgba(15,23,42,.9),0 24px 80px rgba(15,23,42,.9);backdrop-filter:blur(26px);overflow:hidden}
 .perfil:not(.dark) .form-container{background:#ffffff;border-color:#e5e7eb;box-shadow:0 10px 30px rgba(15,23,42,.08);backdrop-filter:none}
 .form-container::before{content:"";position:absolute;inset:-40%;background:radial-gradient(circle at 20% 0,rgba(34,197,94,.23),transparent 55%),radial-gradient(circle at 120% 0,rgba(56,189,248,.24),transparent 55%);opacity:.65;mix-blend-mode:soft-light;pointer-events:none}

 /* Section */
 .section{margin-bottom:30px;position:relative}
 .section:last-of-type{margin-bottom:20px}
 .section::before{content:"";position:absolute;left:0;top:0;width:32%;height:1px;background:linear-gradient(90deg,rgba(34,197,94,.9),rgba(56,189,248,.1),transparent)}
 .section-title{font-size:1.1rem;font-weight:600;color:#e5e7eb;margin:0 0 16px;padding-bottom:10px;border-bottom:1px solid rgba(31,41,55,.9);text-transform:uppercase;letter-spacing:.08em}

 /* Form Grid */
 .form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:18px}

 /* Form Field */
 .form-field{display:flex;flex-direction:column;gap:6px}
 .form-field.full-width{grid-column:1/-1}
 .label{font-size:.8rem;font-weight:500;color:#9ca3af;text-transform:uppercase;letter-spacing:.12em}
 .input{padding:10px 12px;border-radius:10px;border:1px solid rgba(31,41,55,.9);background:radial-gradient(circle at 0 0,rgba(15,23,42,.98),rgba(15,23,42,.9));color:#e5e7eb;font-size:.92rem;outline:none;transition:border-color .18s ease,box-shadow .18s ease,background .18s ease,transform .12s ease}
 .perfil:not(.dark) .input{background:#ffffff;border-color:#e5e7eb;color:#111827;box-shadow:none}
 .input:focus{border-color:rgba(56,189,248,1);box-shadow:0 0 0 1px rgba(15,23,42,1),0 0 18px rgba(56,189,248,.7);background:radial-gradient(circle at 0 0,rgba(15,23,42,1),rgba(15,23,42,.96));transform:translateY(-1px)}
 .input:disabled{background:radial-gradient(circle at 0 0,rgba(17,24,39,.9),rgba(15,23,42,.9));color:#9ca3af;cursor:not-allowed;opacity:.85}
 .hint{font-size:.75rem;color:#6b7280}
 .error-text{font-size:.75rem;color:#fecaca;text-shadow:0 0 12px rgba(127,29,29,.85)}

 /* Checkbox */
 .checkbox-field{flex-direction:row;align-items:center}
 .checkbox-label{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:.88rem;color:#e5e7eb}
 .checkbox-label input[type="checkbox"]{width:18px;height:18px;border-radius:6px;border:1px solid rgba(31,41,55,.9);background:rgba(15,23,42,.95);appearance:none;display:grid;place-items:center;transition:border-color .18s ease,box-shadow .18s ease,background .18s ease}
 .checkbox-label input[type="checkbox"]::before{content:"";width:10px;height:10px;border-radius:3px;transform:scale(0);background:conic-gradient(from 220deg,#22c55e,#0ea5e9,#22c55e);box-shadow:0 0 18px rgba(34,197,94,.7);transition:transform .18s ease}
 .checkbox-label input[type="checkbox"]:checked{border-color:rgba(56,189,248,.9);box-shadow:0 0 18px rgba(56,189,248,.6);background:radial-gradient(circle at 0 0,rgba(15,23,42,1),rgba(15,23,42,.95))}
 .checkbox-label input[type="checkbox"]:checked::before{transform:scale(1)}

 /* Buttons */
 .btn-secondary{padding:10px 16px;border-radius:999px;background:rgba(15,23,42,.8);color:#e5e7eb;border:1px solid rgba(148,163,184,.6);cursor:pointer;font-size:.88rem;font-weight:500;backdrop-filter:blur(18px);transition:background .18s ease,box-shadow .18s ease,transform .14s ease,border-color .18s ease}
 .btn-secondary:hover:not(:disabled){background:radial-gradient(circle at 0 0,rgba(15,23,42,1),rgba(15,23,42,.9));border-color:rgba(56,189,248,.9);box-shadow:0 0 20px rgba(56,189,248,.55);transform:translateY(-1px)}
 .btn-secondary:disabled{opacity:.55;cursor:not-allowed;box-shadow:none}

 .actions{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid rgba(31,41,55,.9);margin-top:8px}
 .btn-cancel{padding:10px 20px;border-radius:999px;background:transparent;color:#e5e7eb;border:1px solid rgba(148,163,184,.6);cursor:pointer;font-size:.9rem;font-weight:500;transition:background .18s ease,box-shadow .18s ease,transform .14s ease,border-color .18s ease}
 .btn-cancel:hover{background:radial-gradient(circle at 0 0,rgba(15,23,42,1),rgba(15,23,42,.92));border-color:rgba(148,163,184,.95);box-shadow:0 0 18px rgba(148,163,184,.55);transform:translateY(-1px)}
 .btn-submit{padding:10px 22px;border-radius:999px;background:conic-gradient(from 230deg,#22c55e,#0ea5e9,#22c55e);color:#ecfdf5;border:none;cursor:pointer;font-size:.92rem;font-weight:600;letter-spacing:.06em;text-transform:uppercase;box-shadow:0 0 0 1px rgba(6,95,70,1),0 0 26px rgba(16,185,129,.7);transition:transform .16s ease,box-shadow .18s ease,filter .18s ease}
 .btn-submit:hover:not(:disabled){transform:translateY(-1px) scale(1.01);box-shadow:0 0 32px rgba(16,185,129,.9);filter:saturate(1.15)}
 .btn-submit:disabled{opacity:.6;cursor:not-allowed;box-shadow:0 0 0 1px rgba(55,65,81,1)}

 /* Overrides tema claro: mejor contraste sobre fondo blanco */
 .perfil:not(.dark) .title{
   color:#0f172a;
   text-shadow:none;
 }

 .perfil:not(.dark) .subtitle{
   color:#6b7280;
 }

 .perfil:not(.dark) .section-title{
   color:#0f172a;
   border-bottom-color:#e5e7eb;
 }

 .perfil:not(.dark) .label{
   color:#6b7280;
 }

 .perfil:not(.dark) .hint{
   color:#9ca3af;
 }

 .perfil:not(.dark) .checkbox-label{
   color:#111827;
 }

 .perfil:not(.dark) .message{
   background:#f9fafb;
   border-color:#e5e7eb;
   color:#111827;
   box-shadow:none;
   backdrop-filter:none;
 }

 .perfil:not(.dark) .btn-secondary{
   background:#ffffff;
   color:#111827;
   border-color:#e5e7eb;
   box-shadow:none;
 }

 .perfil:not(.dark) .actions{
   border-top-color:#e5e7eb;
 }

 .perfil:not(.dark) .btn-cancel{
   color:#111827;
   border-color:#e5e7eb;
   box-shadow:none;
 }

 .perfil:not(.dark) .btn-cancel:hover{
   background:#f9fafb;
   border-color:#d1d5db;
   box-shadow:0 4px 10px rgba(15,23,42,.06);
 }

 .perfil:not(.dark) .btn-submit{
   box-shadow:0 8px 20px rgba(16,185,129,.35);
 }

 /* Responsive */
 @media (max-width:768px){
   .header{padding:12px 16px}
   .header-content{gap:10px}
   .logo{font-size:1.3rem}
   .main{padding:20px 14px 26px;max-width:100%}
   .form-container{padding:20px 16px 18px;border-radius:18px}
   .avatar-section{margin-top:4px}
   .avatar-preview{width:52px;height:52px}
   .form-grid{grid-template-columns:1fr}
   .actions{flex-direction:column-reverse;align-items:stretch}
   .btn-cancel,.btn-submit{width:100%}
 }
