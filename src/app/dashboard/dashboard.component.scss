 .dashboard{min-height:100vh;display:flex;background:radial-gradient(circle at 0% 0%,#020617 0,#020617 45%,#020617 60%,#000 100%);color:#e5e7eb;position:relative;overflow:hidden}
.dashboard::before{content:"";position:absolute;inset:-40%;background:conic-gradient(from 220deg,rgba(34,197,94,.10),rgba(56,189,248,.10),transparent 40%,transparent 70%,rgba(129,140,248,.18),rgba(34,197,94,.14));filter:blur(46px);opacity:.6;pointer-events:none}

 /* Layout: sidebar + main */
 .layout{position:relative;z-index:1;display:grid;grid-template-columns:260px minmax(0,1fr);gap:26px;max-width:1400px;margin:20px auto 32px;padding:0 26px}
 .sidebar{background:radial-gradient(circle at 0 0,rgba(15,23,42,.98),rgba(15,23,42,.94));color:#e5e7eb;border-radius:22px;padding:20px 18px;display:flex;flex-direction:column;gap:18px;min-height:calc(100vh - 88px);border:1px solid rgba(30,64,175,.5);box-shadow:0 10px 30px rgba(15,23,42,.7);backdrop-filter:blur(24px);position:relative;overflow:hidden}
.profile{display:flex;align-items:center;gap:12px}
.avatar{width:60px;height:60px;border-radius:999px;background:conic-gradient(from 220deg,#a855f7,#22c55e,#0ea5e9,#a855f7);display:grid;place-items:center;font-weight:800;color:#fff;font-size:20px;overflow:hidden;box-shadow:0 0 14px rgba(56,189,248,.35);position:relative}
.avatar{width:60px;height:60px;border-radius:999px;background:conic-gradient(from 220deg,#a855f7,#22c55e,#0ea5e9,#a855f7);display:grid;place-items:center;font-weight:800;color:#fff;font-size:20px;overflow:hidden;box-shadow:0 0 18px rgba(56,189,248,.45);position:relative}
.avatar-img{width:100%;height:100%;object-fit:cover;display:block}
.profile-info .name{font-weight:800}
.profile-info .sub{font-size:12px;opacity:.85}
.side-nav{display:flex;flex-direction:column;gap:8px;margin-top:10px}
.side-quick{margin-top:auto;padding-top:32px;padding-bottom:16px;display:flex;gap:10px;flex-direction:column;position:relative;z-index:1}
.nav-item{display:flex;gap:10px;align-items:center;padding:10px 12px;border-radius:999px;color:rgba(226,232,240,.9);font-weight:600;font-size:.9rem;text-decoration:none;position:relative;isolation:isolate;overflow:hidden;border:1px solid transparent;transition:color .18s ease,border-color .18s ease,background .18s ease,box-shadow .22s ease,transform .14s ease}
.nav-item span{opacity:.95}
.nav-item::before{content:"";position:absolute;inset:-40%;background:radial-gradient(circle at 0 0,rgba(59,130,246,.9),transparent 55%);opacity:0;transform:translate3d(-25%,0,0);transition:opacity .24s ease,transform .24s ease;z-index:-1}

/* Header */
.header{position:sticky;top:0;z-index:10;background:linear-gradient(120deg,rgba(15,23,42,.96),rgba(15,23,42,.9));-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);border-bottom:1px solid rgba(30,64,175,.65);padding:12px 26px;box-shadow:0 10px 40px rgba(15,23,42,.9)}

/* Fallbacks si Safari/iOS no soporta blur */
@supports not (backdrop-filter: blur(0)){
  .header{background:#ffffff}
}
@supports not (-webkit-backdrop-filter: blur(0)){
  .header{background:#ffffff}
}
.header-content{display:flex;justify-content:space-between;align-items:center;max-width:1400px;margin:0 auto;gap:12px}
.logo{font-size:1.5rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;background:linear-gradient(130deg,#bbf7d0,#6ee7b7,#a5f3fc);-webkit-background-clip:text;background-clip:text;color:transparent;margin:0;text-shadow:0 0 10px rgba(34,197,94,.28)}
.user-menu{display:flex;align-items:center;gap:12px}
.role-badge{padding:4px 10px;border-radius:999px;font-size:.75rem;font-weight:600;background:rgba(15,23,42,.9);color:#a7f3d0;border:1px solid rgba(16,185,129,.7);box-shadow:0 0 18px rgba(34,197,94,.6)}
.role-badge[data-role="admin"]{background:#ecfccb;color:#365314;border-color:#d9f99d}
.role-badge[data-role="conductor"]{background:#e0f2fe;color:#0c4a6e;border-color:#bae6fd}
.role-badge[data-role="cliente"]{background:#f1f5f9;color:#0f172a;border-color:#e2e8f0}
.user-name{font-size:.9rem;color:#e5e7eb}
.btn-theme{padding:6px 12px;border:1px solid rgba(148,163,184,.6);background:rgba(15,23,42,.9);border-radius:999px;cursor:pointer;font-size:0.9rem;line-height:1;display:inline-flex;align-items:center;justify-content:center;gap:6px;color:#e5e7eb;box-shadow:0 0 0 1px rgba(15,23,42,1),0 0 14px rgba(56,189,248,.35);transition:background .18s ease,border-color .18s ease,box-shadow .2s ease,transform .14s ease}
.btn-theme:hover{background:radial-gradient(circle at 0 0,rgba(15,23,42,1),rgba(15,23,42,.9));border-color:rgba(56,189,248,.8);box-shadow:0 0 20px rgba(56,189,248,.6);transform:translateY(-1px)}
.btn-logout{padding:6px 16px;background:radial-gradient(circle at 0 0,rgba(248,113,113,.45),rgba(127,29,29,.96));color:#fee2e2;border:none;border-radius:999px;cursor:pointer;font-size:0.85rem;font-weight:600;box-shadow:0 0 0 1px rgba(127,29,29,.75),0 0 18px rgba(248,113,113,.55);transition:box-shadow .2s ease,transform .14s ease}
.btn-logout:active{transform:translateY(0)}
.btn-logout:hover{box-shadow:0 0 38px rgba(248,113,113,1);transform:translateY(-1px)}

/* Main */
.main{padding:22px 22px 30px;background:transparent;position:relative;z-index:1}

.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.title-block .title{margin:0;font-size:1.6rem;color:#e5e7eb;text-shadow:0 0 18px rgba(59,130,246,.6)}
.title-block .subtitle{margin:0;color:#9ca3af}
.actions .btn-theme{padding:8px 10px;border-radius:8px}

.grid{display:grid;grid-template-columns:2fr 1fr;grid-auto-rows:minmax(120px,auto);gap:16px}
.chart-large{height:260px;display:flex;flex-direction:column}
.chart-header{font-weight:700;margin-bottom:8px}
.chart-canvas canvas{width:100%;height:220px}
.small-cards{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.stat{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:14px}
.stat-title{font-weight:700;color:#6b7280}
.stat-value{font-size:1.6rem;font-weight:800;color:#059669}
.panel{padding:14px}

/* Hero animado */
.hero-anim{position:absolute;left:0;right:0;height:120px;z-index:0;pointer-events:none;opacity:.6;
  background:radial-gradient(800px 120px at 20% 0%, rgba(16,185,129,.18), transparent 60%),
             radial-gradient(600px 120px at 80% 0%, rgba(37,99,235,.16), transparent 60%);
  filter:blur(18px)}
/* coloca contexto para stacking */
.main{position:relative}

.status-bar{display:flex;align-items:center;gap:10px;background:linear-gradient(90deg,#eef2ff 0%, #ecfdf5 100%);border:1px solid #e5e7eb;color:#1f2937;border-radius:999px;padding:8px 14px;margin-bottom:16px;box-shadow:0 1px 2px rgba(0,0,0,.04)}
.pulse-dot{width:8px;height:8px;border-radius:999px;background:#22c55e;box-shadow:0 0 0 0 rgba(34,197,94,0.6);animation:pulse 1.8s infinite}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(34,197,94,0.6)}70%{box-shadow:0 0 0 10px rgba(34,197,94,0)}100%{box-shadow:0 0 0 0 rgba(34,197,94,0)}}
.status-link{margin-left:auto;text-decoration:none;font-weight:600;color:#2563eb}
.status-link:hover{text-decoration:underline}

/* Welcome */
.welcome{margin-bottom:32px}
.title{font-size:2rem;font-weight:600;color:#111827;margin:0 0 6px}
.subtitle{font-size:1rem;color:#6b7280;margin:0}

/* Round cards */
.round-cards{display:flex;gap:20px;flex-wrap:wrap;margin-bottom:20px}
.round-card{display:flex;align-items:center;gap:12px;background:radial-gradient(circle at 0 0,rgba(15,23,42,.98),rgba(15,23,42,.94));border:1px solid rgba(30,64,175,.6);border-radius:999px;padding:10px 18px;box-shadow:0 12px 32px rgba(15,23,42,.78);backdrop-filter:blur(24px)}
.round-card .circle{width:60px;height:60px;border-radius:999px;display:grid;place-items:center;color:#e5e7eb;font-weight:800;background:conic-gradient(from 220deg,#16a34a,#0e7490,#16a34a);box-shadow:0 0 14px rgba(34,197,94,.45)}
.round-card .value{font-size:1.4rem}
.round-card .label{font-weight:700;color:#e5e7eb}
.round-veh .circle{background:conic-gradient(from 220deg,#22c55e,#0ea5e9,#22c55e)}

/* Loading/Error */
.loading{text-align:center;padding:40px;color:#6b7280}
.error-box{background:#fef2f2;border:1px solid #fecaca;color:#991b1b;padding:12px 16px;border-radius:8px;margin-bottom:20px}

/* Cards Grid */
.cards{display:grid;grid-template-columns:2fr 1.5fr 1.5fr;grid-auto-rows:minmax(120px,auto);gap:24px;margin-bottom:32px;align-items:stretch}

.card{background:radial-gradient(circle at 0 0,rgba(15,23,42,.98),rgba(15,23,42,.94));border:1px solid rgba(30,64,175,.65);border-radius:22px;padding:20px 20px 22px;transition:box-shadow .22s,transform .12s,text-decoration .2s,border-color .22s,background .18s;display:block;text-decoration:none;position:relative;overflow:hidden;box-shadow:0 14px 40px rgba(15,23,42,.82);backdrop-filter:blur(26px)}

/* Posiciones espec√≠ficas de tarjetas en el grid */
.card-map{grid-column:1;grid-row:1 / span 2}
.card-vehiculos{grid-column:2;grid-row:1}
.card-rutas{grid-column:3;grid-row:1}
.card-perfil{grid-column:1;grid-row:2}
.card::before{content:"";position:absolute;inset:-40%;opacity:0;background:radial-gradient(circle at top left,rgba(56,189,248,.24),transparent 55%);transition:opacity .25s}
.card:hover::before{opacity:1}
.card:hover{box-shadow:0 18px 52px rgba(15,23,42,.95);transform:translateY(-4px);border-color:rgba(129,140,248,.85)}
.card-rutas{grid-column:3;grid-row:1 / span 2}
.card-perfil{grid-column:1;grid-row:3}
.card::before{content:"";position:absolute;inset:-40%;opacity:0;background:radial-gradient(circle at top left,rgba(56,189,248,.24),transparent 55%);transition:opacity .25s}
.card:hover::before{opacity:1}
.card:hover{box-shadow:0 20px 60px rgba(15,23,42,1);transform:translateY(-4px);border-color:rgba(129,140,248,.9)}

.card-clickable{cursor:pointer}
.card-clickable:hover{box-shadow:0 20px 60px rgba(15,23,42,.96);transform:translateY(-5px)}

.card-primary{background:linear-gradient(135deg,#166534,#115e59);color:#f9fafb;border:none;box-shadow:0 12px 32px rgba(15,118,110,.42)}
.card-primary .card-title,.card-primary .card-text,.card-primary .card-action{color:#f9fafb}

.card-live{position:relative;overflow:hidden}
.card-live .live-badge{position:absolute;top:12px;right:12px;display:inline-flex;align-items:center;gap:6px;background:rgba(255,255,255,0.2);color:#fff;padding:6px 10px;border-radius:999px;font-size:0.8rem;font-weight:700;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}
.card-live .live-badge .dot{width:8px;height:8px;border-radius:999px;background:#22c55e;box-shadow:0 0 0 0 rgba(34,197,94,0.6);animation:pulse 1.8s infinite}

/* Mini-mapa preview */
.mini-map{margin-top:10px;border-radius:18px;overflow:hidden;border:1px solid rgba(148,163,184,.6);background:#02061780}
.mini-map canvas{display:block;width:100%;height:120px}

.card-icon{width:56px;height:56px;border-radius:999px;display:flex;align-items:center;justify-content:center;font-size:2rem;margin-bottom:14px;background:radial-gradient(circle at 30% 10%,#fbbf24,transparent 55%),linear-gradient(135deg,#020617,#0f172a);color:#f9fafb;box-shadow:0 8px 20px rgba(15,23,42,.8)}
.card-primary .card-icon{background:radial-gradient(circle at 30% 10%,#facc15,transparent 55%),linear-gradient(135deg,#d1fae5,#a7f3d0);color:#065f46;box-shadow:0 10px 24px rgba(22,163,74,.65)}
.card-body{display:flex;flex-direction:column;gap:6px}
.card-title{font-size:1.1rem;font-weight:700;margin:0;color:#e5e7eb}
.card-number{font-size:2.4rem;font-weight:800;margin:6px 0 4px;color:#34d399}
.card-primary .card-number{color:#fff}
.card-text{font-size:.9rem;color:#9ca3af;margin:0}
.card-action{font-size:1rem;font-weight:700;margin-top:12px;padding:10px 16px;background:#020617;border-radius:999px;text-align:center;transition:background .2s,box-shadow .2s,transform .12s}
.card-primary .card-action{background:rgba(15,23,42,.9)}
.card-primary .card-action:hover{background:rgba(15,23,42,1)}
.card-clickable:not(.card-primary) .card-action{background:#020817;color:#a7f3d0}
.card-clickable:not(.card-primary) .card-action:hover{background:#020617;box-shadow:0 0 18px rgba(34,197,94,.45);transform:translateY(-1px)}
.card-link{font-size:0.9rem;font-weight:500;color:#60a5fa;text-decoration:none;margin-top:8px;display:inline-block}
.card-link:hover{text-decoration:underline}

/* Sparklines */
.sparkline{margin-top:8px}
.sparkline canvas{display:block;width:100%;height:42px}

/* Info Section */
 .info-section{background:radial-gradient(circle at 0 0,rgba(15,23,42,.98),rgba(15,23,42,.94));border:1px solid rgba(30,64,175,.65);border-radius:18px;padding:20px;box-shadow:0 18px 50px rgba(15,23,42,.9);backdrop-filter:blur(26px)}
 .section-title{font-size:1.2rem;font-weight:600;color:#e5e7eb;margin:0 0 16px}

.quick-links{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:14px}
 .quick-link{display:flex;align-items:center;gap:10px;padding:14px 16px;background:radial-gradient(circle at 0 0,rgba(15,23,42,.98),rgba(15,23,42,.94));border:1px solid rgba(30,64,175,.7);border-radius:18px;text-decoration:none;color:#e5e7eb;font-size:0.95rem;transition:background .18s,border-color .18s,box-shadow .18s,transform .08s}
 .quick-link:hover{background:radial-gradient(circle at 0 0,rgba(15,23,42,1),rgba(15,23,42,.96));border-color:#4f46e5;box-shadow:0 16px 40px rgba(30,64,175,.7);transform:translateY(-2px)}
 .quick-link:active{transform:translateY(0);box-shadow:0 6px 18px rgba(15,23,42,.9)}

 .quick-link-icon-wrap{width:36px;height:36px;border-radius:999px;display:flex;align-items:center;justify-content:center;background:#111827;border:1px solid #4f46e5;flex-shrink:0}
 .link-icon{font-size:1.2rem}

.quick-link-content{display:flex;flex-direction:column;gap:2px}
 .link-title{font-weight:600}
 .link-subtitle{font-size:0.78rem;color:#9ca3af}

/* Responsive */
@media (max-width:768px){
  .cards{grid-template-columns:1fr}
  .quick-links{grid-template-columns:1fr}
  .quick-link{width:100%}
}

.dashboard.dark{background:radial-gradient(circle at 0% 0%,#020617 0,#020617 45%,#020617 60%,#000 100%)}
.dashboard.dark .status-bar{background:#020617;border-color:#1e293b;color:#e5e7eb}
.dashboard.dark .status-link{color:#60a5fa}
.dashboard.dark .hero-anim{background:radial-gradient(800px 120px at 20% 0%, rgba(34,197,94,.26), transparent 60%),
                                   radial-gradient(600px 120px at 80% 0%, rgba(96,165,250,.26), transparent 60%)}
.dashboard.dark .role-badge{background:#064e3b;color:#a7f3d0;border-color:#065f46}

.dashboard:not(.dark){
  background:linear-gradient(180deg,#f8fafc 0%, #f9fafb 60%, #ffffff 100%);
  color:#0f172a;
}
.dashboard:not(.dark) .sidebar{
  background:#0f172a;
  color:#fff;
  border-radius:8px;
  padding:18px;
  box-shadow:0 10px 30px rgba(2,6,23,.12);
  border:0;
}
.dashboard:not(.dark) .nav-item{
  color:rgba(255,255,255,.9);
  border-radius:8px;
  border:0;
  background:transparent;
  box-shadow:none;
}
.dashboard:not(.dark) .nav-item.active{
  background:linear-gradient(90deg,#7c3aed50,#06b6d450);
  backdrop-filter:blur(4px);
}
.dashboard:not(.dark) .btn-ghost{
  background:transparent;
  border:1px solid rgba(255,255,255,.08);
  border-radius:8px;
}
.dashboard:not(.dark) .btn-logout,
.dashboard:not(.dark) .btn-logout.small{
  background:#dc2626;
  box-shadow:none;
  border-radius:8px;
}
.dashboard:not(.dark) .header{
  background:rgba(255,255,255,.75);
  border-bottom:1px solid #e5e7eb;
  box-shadow:0 10px 30px rgba(15,23,42,.06);
}
.dashboard:not(.dark) .logo{
  background:none;
  -webkit-background-clip:border-box;
  background-clip:border-box;
  color:#059669;
  text-shadow:none;
}
.dashboard:not(.dark) .user-name{color:#374151}
.dashboard:not(.dark) .btn-theme{
  background:#fff;
  border-radius:8px;
  border:1px solid #e5e7eb;
  box-shadow:none;
  color:#111827;
}
.dashboard:not(.dark) .btn-theme:hover{
  background:#f9fafb;
  border-color:#d1d5db;
}
.dashboard:not(.dark) .main{
  color:#0f172a;
}
.dashboard:not(.dark) .title-block .title{color:#0f172a;text-shadow:none}
.dashboard:not(.dark) .title-block .subtitle{color:#6b7280}
.dashboard:not(.dark) .round-card{
  background:#fff;
  border-radius:14px;
  border:1px solid #e5e7eb;
  box-shadow:0 1px 2px rgba(0,0,0,.04);
}
.dashboard:not(.dark) .round-card .circle{
  background:#f3f4f6;
  border:1px solid #e5e7eb;
  color:#111827;
  box-shadow:none;
}
.dashboard:not(.dark) .cards .card{
  background:#fff;
  border:1px solid #e5e7eb;
  box-shadow:0 14px 36px rgba(15,23,42,.08);
}
.dashboard:not(.dark) .card-title{color:#111827}
.dashboard:not(.dark) .card-text{color:#6b7280}
.dashboard:not(.dark) .card-number{color:#059669}
.dashboard:not(.dark) .round-card .label{color:#111827}
.dashboard:not(.dark) .status-bar{
  background:linear-gradient(90deg,#e5e7eb 0%, #ecfdf5 100%);
  color:#111827;
}
.dashboard:not(.dark) .card-action{
  border-radius:8px;
  background:rgba(255,255,255,0.24);
}
.dashboard:not(.dark) .info-section{
  background:#fff;
  border-radius:14px;
  border:1px solid #e5e7eb;
  box-shadow:0 1px 2px rgba(0,0,0,.04);
}
.dashboard:not(.dark) .section-title{color:#111827}
.dashboard:not(.dark) .quick-link{
  background:#f9fafb;
  border-radius:16px;
  border:1px solid #e5e7eb;
  color:#111827;
}
.dashboard:not(.dark) .quick-link:hover{
  background:#f3f4ff;
  border-color:#c4b5fd;
}
.dashboard:not(.dark) .quick-link-icon-wrap{
  background:#eef2ff;
  border-color:#e5e7eb;
}
.dashboard:not(.dark) .link-subtitle{color:#6b7280}

/* Accessibility focus states */
:focus-visible{outline:3px solid #93c5fd;outline-offset:2px;border-radius:8px}
