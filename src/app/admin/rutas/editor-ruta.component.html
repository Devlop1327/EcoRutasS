<div class="editor-ruta-page">
  <div class="header">
    <h2 class="page-title">Editor de Ruta</h2>
  </div>

  <section class="card">
    <form [formGroup]="form" (ngSubmit)="save()" class="name-form">
      <label class="field">
        <span class="label">Nombre de la ruta</span>
        <input class="input" formControlName="nombre_ruta" placeholder="Ruta Buenaventura" />
      </label>
      <div class="actions">
        <button class="btn btn-primary" type="submit" [disabled]="loading() || form.invalid || puntos().length < 2">Guardar ruta</button>
        <button class="btn btn-ghost" type="button" (click)="undo()">Borrar último punto</button>
        <button class="btn btn-ghost danger" type="button" (click)="clearAll()">Limpiar</button>
      </div>
    </form>
    @if (error()) { <div class="alert error">{{ error() }}</div> }
    @if (success()) { <div class="alert ok">{{ success() }}</div> }
  </section>

  <section class="map-wrap">
    <div id="editor-map"></div>
    <div class="hint">Click en el mapa para agregar puntos. Mínimo 2 puntos.</div>
  </section>
</div>
